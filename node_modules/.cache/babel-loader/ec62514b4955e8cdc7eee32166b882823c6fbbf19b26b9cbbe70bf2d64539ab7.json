{"ast":null,"code":"import _slicedToArray from\"C:/Users/gayuc/OneDrive/Desktop/Can/can-do/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import'../App';import{useAppContext}from\"./context/appContext\";import{useState}from\"react\";import Modalnew from\"./Modal\";import\"./favorites.css\";import Nav from\"../components/NavbarFire\";import{useNavigate,Navigate}from\"react-router-dom\";import{isAuthenticated,logout}from\"../services/Auth\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Favorites=function Favorites(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),show=_useState2[0],setShow=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),bookItem=_useState4[0],setItem=_useState4[1];var _useAppContext=useAppContext(),favorites=_useAppContext.favorites,addToFavorites=_useAppContext.addToFavorites,removeFromFavorites=_useAppContext.removeFromFavorites;console.log('favorites are',favorites);var favoritesChecker=function favoritesChecker(id){var boolean=favorites.some(function(item){return item.id===id;});return boolean;};console.log(favorites);var navigate=useNavigate();var logoutUser=function logoutUser(){logout();navigate('/login');};if(!isAuthenticated()){//redirect user to dashboard page\nreturn/*#__PURE__*/_jsx(Navigate,{to:\"/login\"});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Nav,{logoutUser:logoutUser}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-center py-5 h1frfav\",children:\"YOUR FAVORITES\"}),/*#__PURE__*/_jsx(\"div\",{className:\"containerfavo\",children:favorites.length>0?favorites.map(function(item){var thumbnail=item.volumeInfo.imageLinks&&item.volumeInfo.imageLinks.smallThumbnail;var amount=item.saleInfo.listPrice&&item.saleInfo.listPrice.amount;if(thumbnail!=undefined&&amount!=undefined){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"wholecardsfov\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"cardfov\",onClick:function onClick(){setShow(true);setItem(item);},children:[/*#__PURE__*/_jsx(\"img\",{src:thumbnail,alt:\"\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bottomfov\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"titlefov\",children:item.volumeInfo.title})})]}),favoritesChecker(item.id)?/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return removeFromFavorites(item.id);},children:\"Remove from favourites\"}):/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return addToFavorites(item);},children:\"Add to favourites\"})]}),/*#__PURE__*/_jsx(Modalnew,{show:show,item:bookItem,onClose:function onClose(){return setShow(false);}})]});}}):/*#__PURE__*/_jsx(\"h2\",{children:\"No favorites yett\"})})]});};export default Favorites;","map":{"version":3,"names":["React","useAppContext","useState","Modalnew","Nav","useNavigate","Navigate","isAuthenticated","logout","Favorites","show","setShow","bookItem","setItem","favorites","addToFavorites","removeFromFavorites","console","log","favoritesChecker","id","boolean","some","item","navigate","logoutUser","length","map","thumbnail","volumeInfo","imageLinks","smallThumbnail","amount","saleInfo","listPrice","undefined","title"],"sources":["C:/Users/gayuc/OneDrive/Desktop/Can/can-do/src/Compofound/Favorites.js"],"sourcesContent":["import React from \"react\";\r\nimport '../App';\r\nimport { useAppContext } from \"./context/appContext\";\r\nimport { useState } from \"react\";\r\nimport Modalnew from \"./Modal\";\r\nimport \"./favorites.css\"\r\nimport Nav from \"../components/NavbarFire\";\r\nimport { useNavigate,Navigate  } from \"react-router-dom\";\r\nimport { isAuthenticated,logout } from \"../services/Auth\";\r\n\r\n\r\nconst Favorites=()=>{\r\n    const [show,setShow]=useState(false);\r\n    const [bookItem,setItem]=useState();\r\n    const {favorites,addToFavorites,removeFromFavorites} = useAppContext();\r\n    console.log('favorites are', favorites);\r\n\r\n    const favoritesChecker = (id) =>{\r\n        const boolean = favorites.some((item)=>item.id === id);\r\n        return boolean;\r\n    }\r\n    console.log(favorites)\r\n    const navigate=useNavigate();\r\n  const logoutUser =()=>{\r\n   logout();\r\n   navigate('/login');\r\n}\r\n\r\n\r\nif(!isAuthenticated()){\r\n//redirect user to dashboard page\r\nreturn <Navigate to=\"/login\"/>\r\n}\r\n\r\n    return (\r\n    <>\r\n       <Nav logoutUser={logoutUser}/>\r\n       <h1 className=\"text-center py-5 h1frfav\">YOUR FAVORITES</h1>\r\n    <div className=\"containerfavo\">\r\n             { favorites.length>0 ?\r\n                   favorites.map((item) => {\r\n                    let thumbnail=item.volumeInfo.imageLinks && item.volumeInfo.imageLinks.smallThumbnail;\r\n                    let amount=item.saleInfo.listPrice && item.saleInfo.listPrice.amount;\r\n                    if(thumbnail!= undefined && amount !=undefined)\r\n                    {\r\n                        return (\r\n                            <>\r\n                            <div className=\"wholecardsfov\">\r\n                            <div className=\"cardfov\" onClick={()=>{setShow(true);setItem(item)}}>\r\n                                <img src={thumbnail} alt=\"\" />\r\n                                <div className=\"bottomfov\">\r\n                                    <h3 className=\"titlefov\">{item.volumeInfo.title}</h3>\r\n                                   \r\n                               \r\n                                    \r\n                                </div>\r\n                              \r\n                            </div>\r\n                            {favoritesChecker(item.id)?(\r\n                                  <button onClick={()=>removeFromFavorites(item.id)}>\r\n                                    Remove from favourites\r\n                                    </button>\r\n                                ):(\r\n                                <button onClick={()=>addToFavorites(item)}>\r\n                                    Add to favourites\r\n                                    </button>\r\n                                )}\r\n\r\n\r\n                            </div>\r\n                              <Modalnew show={show} item={bookItem} onClose={()=>setShow(false)}/>\r\n                            </>\r\n                        )\r\n                    }\r\n                    \r\n                }):<h2>No favorites yett</h2>\r\n            }\r\n    </div>\r\n    </>\r\n    )\r\n}\r\n\r\n\r\nexport default Favorites"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}