{"ast":null,"code":"import _slicedToArray from\"C:/Users/gayuc/OneDrive/Desktop/Can/can-do/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import{useNavigate}from\"react-router-dom\";import Nav from\"../components/NavbarFire\";import{Navigate}from\"react-router-dom\";import{isAuthenticated}from\"../services/Auth\";import{logout}from\"../services/Auth\";import{UserDetailsApi}from\"../services/Api\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function DashboardPage(){var navigate=useNavigate();var _useState=useState({name:\"\",email:\"\",localId:\"\"}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];useEffect(function(){if(isAuthenticated()){UserDetailsApi().then(function(response){setUser({name:response.data.users[0].displayName,email:response.data.users[0].email,localId:response.data.users[0].localId});});}},[]);var logoutUser=function logoutUser(){logout();navigate('/login');};if(!isAuthenticated()){//redirect user to dashboard page\nreturn/*#__PURE__*/_jsx(Navigate,{to:\"/login\"});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Nav,{logoutUser:logoutUser}),/*#__PURE__*/_jsx(\"main\",{role:\"main\",className:\"container mt-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mt-5\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Dashboard page\"}),user.name&&user.email&&user.localId?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-bold \",children:[\"Hi \",user.name,\", your Firebase ID is \",user.localId]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Your email is \",user.email]})]}):/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"})]})})})]});}","map":{"version":3,"names":["useEffect","useState","useNavigate","Nav","Navigate","isAuthenticated","logout","UserDetailsApi","DashboardPage","navigate","name","email","localId","user","setUser","then","response","data","users","displayName","logoutUser"],"sources":["C:/Users/gayuc/OneDrive/Desktop/Can/can-do/src/pages/Dashboard.js"],"sourcesContent":["\r\n\r\n\r\n\r\nimport { useEffect, useState } from \"react\"\r\nimport { useNavigate } from \"react-router-dom\"\r\nimport Nav from \"../components/NavbarFire\"\r\nimport { Navigate } from \"react-router-dom\"\r\nimport { isAuthenticated } from \"../services/Auth\"\r\nimport { logout } from \"../services/Auth\"\r\nimport { UserDetailsApi } from \"../services/Api\"\r\n\r\nexport default function DashboardPage(){\r\n    const navigate=useNavigate();\r\n \r\n    const [user,setUser] = useState({name:\"\",email:\"\",localId:\"\"})\r\n\r\n    useEffect(()=>{\r\n        if(isAuthenticated()){\r\n\r\n            UserDetailsApi().then((response)=>{\r\n             \r\n               \r\n                setUser({\r\n                    name:response.data.users[0].displayName,\r\n                    email:response.data.users[0].email,\r\n                    localId:response.data.users[0].localId,\r\n                })\r\n            })\r\n\r\n        }\r\n            \r\n       \r\n    },[])\r\n\r\n   const logoutUser =()=>{\r\n       logout();\r\n       navigate('/login');\r\n   }\r\n\r\n\r\n   if(!isAuthenticated()){\r\n    //redirect user to dashboard page\r\n    return <Navigate to=\"/login\"/>\r\n   }\r\n\r\n    return (\r\n        <div>\r\n            <Nav logoutUser={logoutUser} />\r\n           \r\n            <main role=\"main\" className=\"container mt-5\">\r\n                <div className=\"container\">\r\n                    <div className=\"text-center mt-5\">\r\n                        <h3>Dashboard page</h3>\r\n                        { user.name && user.email && user.localId ?\r\n                            (<div>\r\n                                <p className=\"text-bold \" >Hi {user.name}, your Firebase ID is {user.localId}</p>\r\n                                <p>Your email is {user.email}</p>\r\n                            </div>)\r\n                            : <p>Loading...</p>\r\n                        }\r\n                    </div>\r\n                </div>\r\n            </main>\r\n        </div>\r\n    )\r\n}"],"mappings":"gIAIA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAOC,IAAG,KAAM,0BAA0B,CAC1C,OAASC,QAAQ,KAAQ,kBAAkB,CAC3C,OAASC,eAAe,KAAQ,kBAAkB,CAClD,OAASC,MAAM,KAAQ,kBAAkB,CACzC,OAASC,cAAc,KAAQ,iBAAiB,yFAEhD,cAAe,SAASC,cAAa,EAAE,CACnC,GAAMC,SAAQ,CAACP,WAAW,EAAE,CAE5B,cAAuBD,QAAQ,CAAC,CAACS,IAAI,CAAC,EAAE,CAACC,KAAK,CAAC,EAAE,CAACC,OAAO,CAAC,EAAE,CAAC,CAAC,wCAAvDC,IAAI,eAACC,OAAO,eAEnBd,SAAS,CAAC,UAAI,CACV,GAAGK,eAAe,EAAE,CAAC,CAEjBE,cAAc,EAAE,CAACQ,IAAI,CAAC,SAACC,QAAQ,CAAG,CAG9BF,OAAO,CAAC,CACJJ,IAAI,CAACM,QAAQ,CAACC,IAAI,CAACC,KAAK,CAAC,CAAC,CAAC,CAACC,WAAW,CACvCR,KAAK,CAACK,QAAQ,CAACC,IAAI,CAACC,KAAK,CAAC,CAAC,CAAC,CAACP,KAAK,CAClCC,OAAO,CAACI,QAAQ,CAACC,IAAI,CAACC,KAAK,CAAC,CAAC,CAAC,CAACN,OACnC,CAAC,CAAC,CACN,CAAC,CAAC,CAEN,CAGJ,CAAC,CAAC,EAAE,CAAC,CAEN,GAAMQ,WAAU,CAAE,QAAZA,WAAU,EAAM,CAClBd,MAAM,EAAE,CACRG,QAAQ,CAAC,QAAQ,CAAC,CACtB,CAAC,CAGD,GAAG,CAACJ,eAAe,EAAE,CAAC,CACrB;AACA,mBAAO,KAAC,QAAQ,EAAC,EAAE,CAAC,QAAQ,EAAE,CAC/B,CAEC,mBACI,oCACI,KAAC,GAAG,EAAC,UAAU,CAAEe,UAAW,EAAG,cAE/B,aAAM,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,gBAAgB,uBACxC,YAAK,SAAS,CAAC,WAAW,uBACtB,aAAK,SAAS,CAAC,kBAAkB,wBAC7B,oBAAI,gBAAc,EAAK,CACrBP,IAAI,CAACH,IAAI,EAAIG,IAAI,CAACF,KAAK,EAAIE,IAAI,CAACD,OAAO,cACpC,oCACG,WAAG,SAAS,CAAC,YAAY,WAAE,KAAG,CAACC,IAAI,CAACH,IAAI,CAAC,wBAAsB,CAACG,IAAI,CAACD,OAAO,GAAK,cACjF,qBAAG,gBAAc,CAACC,IAAI,CAACF,KAAK,GAAK,GAC/B,cACJ,mBAAG,YAAU,EAAI,GAErB,EACJ,EACH,GACL,CAEd"},"metadata":{},"sourceType":"module","externalDependencies":[]}